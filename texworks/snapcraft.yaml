name: texworks
version: git
summary: TeXworks
description: |
  TeXworks is an environment for authoring TeX (LaTeX, ConTeXt, etc) documents,
  with a Unicode-based, TeX-aware editor, integrated PDF viewer, and a clean,
  simple interface accessible to casual and non-technical users.

apps:
  texworks:
    command: desktop-launch $SNAP/bin/texworks
    plugs: [home, x11, unity7]

parts:
  texworks:
    plugin: cmake
    source: https://github.com/TeXworks/texworks.git
    source-tag: release-0.6.1
    build-packages:
      - debhelper
      - pkg-config
      - cmake
      - libhunspell-dev
      - qtbase5-dev
      - libpoppler-qt5-dev
      - liblua5.2-dev
      - python-dev
      - zlib1g-dev
      - libsynctex-dev
    stage-packages:
      - libc6
      - libgcc1
      - libhunspell-1.3-0
      - libpoppler-qt4-4
      - libqt4-dbus
      - libqt4-script
      - libqt4-scripttools
      - libqt4-xml
      - libqtcore4
      - libqtgui4
      - libstdc++6
      - libsynctex1
      - lmodern
      - tex-common
      - texlive-base
      - texlive-binaries
      - texlive-latex-base
      - texlive-latex-base-doc
    after: [desktop/qt5]
